# Chapter 5 命名

## 1 基本概念

- 实体：系统中的任何事物
  - 主机、打印机、磁盘、文件、进程、用户、邮箱、Web页面、消息
- 实体的名称（Name）:一个位串或字符串，可唯一地标识一个实体
  - 如主机名、文件名、进程名、用户名
- 实体访问点（access point）：用于访问该实体的接口
  - 可以有多个访问点
  - 实体可以改变访问点
  - 访问点可赋给另一个实体
- 地址就是一种特殊类型的名字，指向实体的访问点

## 2 可能的命名方法

- 使用地址作为实体的名称？
  - IP地址、电话号码
  - 看上去用地址作为名称似乎很方便，但实际上，这种命名非常不灵活且用户不友好。如，服务器运行的主机经常会变化，提供多个访问点的实体（Web 服务）
- 使用标识符来作为实体的名称？
  - 不错，但不同进程使用的标识符会不会重名或者不一致？
- 在大多数计算机底层系统中，地址和标识符仅使用计算机可读的方式，如以太网地址、内存地址等位串形式
- 使用用户友好的名称？
  - 用户理解的字符串，如“temp” , “bank”
  - 同标识符，不同进程使用的名称会不会重名或者不一致？

## 3 命名系统

- 名称在所有计算机系统中都起着非常重要的作用
  - 共享资源、唯一标识实体等
- 在分布式系统中，一般使用 **位置无关的命名方法**，因此，命名系统的主要工作就是 **把名称解析为地址**
- 简单地，命名系统中可以有一个名称到地址的绑定表
  - 如（Name，address）表
    - 大型分布式系统，资源众多，一个表可能无法满足要求
- 分布式系统常见的三类命名系统
  - 无结构命名
  - 结构化命名
  - 基于属性的命名

### 3.1 无结构命名

- 无结构名称：名称中不包含任何有关如何定位其相关实体的访问点的信息
- 多种方法支持无结构名称的解析
  - 广播和多播
    - Internet地址解析协议ARP
  - 分布式散列表
  - ..........
- 无结构名称适用于机器的理解，人难以理解

### 3.2 结构化命名

- 结构化名称：简单的、人类可理解的名称
  - 文件命名：/user/lib
  - Internet上的网页地址：www.bupt.edu.cn
  - 名称通常组成名字空间：根节点、目录节点、叶节点，具有某种结构

<img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/12632/202211171048545.png" height="80%" width="80%"/>

#### 3.2.1 结构化命名中的命名服务

- 命名服务：管理名字空间，允许用户和进程添加、删除和查找名称的服务
- 命名服务由命名服务器实现
- 大型分布式系统包含很多实体，跨越很大的地理区域，需要使用多台命名服务器来分散名字空间的管理：命名系统本身是分布的
  - 其分布机制对命名系统的效率和可靠性起着关键的作用

#### 3.2.2 DNS的命名空间划分示例

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/12632/202211171050794.png)

#### 3.2.3 用于不同层的命名服务器比较

| 内容               | 全局层   | 行政层     | 管理层 |
| ------------------ | -------- | ---------- | ------ |
| 网络的地理位置     | 世界范围 | 组织       | 部门   |
| 节点数量           | 少许     | 多         | 极多   |
| 是否适于客户端缓存 | 是       | 是         | 有时   |
| 查询响应           | s        | ms         | 立即   |
| 复制数量           | 许多     | 没有或很少 | 没有   |
| 更新传播情况       | 延迟     | 立即       | 立即   |

#### 3.2.4 名字解析：迭代式名字解析

- 客户侧名字解析器从根名字服务器开始，逐个与名字服务器交互，实现名字的解析。（不考虑缓存的情况下）
  - ftp://ftp.cs.vu.nl/pub/global/index.txt

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/12632/202211171055425.png)

#### 3.2.5 名字解析：递归式名字解析

- 根服务器接到解析请求后，与其下层服务器联系，直至最下层服务器解析完毕将结果上报，然后逐级上报，最后由根服务器返回解析结果。（不考虑缓存的情况下）
  - ftp://ftp.cs.vu.nl/pub/global/index.txt

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/12632/202211171056772.png)

#### 3.2.6 递归式名字解析优缺点

- 优点
  - 缓存结果更为有
    - 例如：根节点可以缓存#&lt;vu&gt;、 #&lt;vu,cs&gt;、#&lt;vu,cs,ftp&gt;的地址
  - 可以减少通信开销
- 缺点
  - 要求名字服务器有较高的性能

## 4 本章小结

- 名称可用来表示实体，基本有3种类型的名称，地址、标识符、用户友好的名称
- 无结构命名系统需要将标识符解析为对应的实体地址，如 Internet 地址解析协议ARP
- 结构化名称可以很容易组织成名称（名字）空间，名称空间可以用命名图来表示，名称解析的过程是通过查找路径名的各个部分来贯穿该命名图
  - 命名服务：管理名字空间，允许用户和进程添加、删除和查找名称的服务
- 基于属性的命名系统中，实体是由（属性、值）对集来描述，可基于属性查找满足条件的实体

