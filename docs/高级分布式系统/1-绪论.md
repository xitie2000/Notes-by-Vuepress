<!--
 * @FilePath: 1-绪论.md
 * @Author: xitie2000
 * @Date: 2022-09-17 07:12:27
 * @Url: 
-->
# Chapter 1 绪论 

## 1 分布式系统及其挑战

### 1.1 什么是分布式系统

分布式系统没有统一的概念。

- **A collection of independent computers** that appears to its users as **a single coherent system**.（一组独立的计算机，在用户看来是一个单一的连贯系统。translated by Google）
- **A collection of autonomous computers** linked by a network, with software designed to produce **an integrated computing facility**.（一组通过网络链接的自主计算机，其软件旨在生成集成计算设施。translated by Google）
- The system software runs on a loosely integrated group of **cooperating** processors linked by a network.（系统软件在由网络链接的松散集成的协作处理器组上运行。translated by Google）
- 在 **网络计算平台** 上开发、部署、管理和维护以 **资源共享** 和 **协同工作** 为主要应用目标的分布式应用系统
- 一个其硬件或软件组件分布在 **联网的计算机** 上，组件之间通过 **传递消息** 进行通信和动作协调的系统

### 1.2 分布式系统举例

- **分布式系统到处可见**

  校园的图书管理系统、行政办公系统、ATM系统、网上商城、游戏、Internet、Web、PSTN、3G、4G、5G ………

- **不同的系统会在多个方面有差别**

  - 规模上：LAN、WAN
  - 行业上：银行网络（ATM） 电信网络（IP Phone）
  - 边界上：Internet、Intranet
  - 协议上：TCP/IP


- **在IT领域**

  目前特别关注以IP为核心实现的网络环境、互联网环境、Web环境、移动互联网环境、物联网环境下的分布式系统。越来越多的系统部署到云环境中。

### 1.3 分布式系统的优势

- 连接不同的系统、不同的机构团体
- 通过互连和互操作提高系统的协作能力
- 通过并行处理、负载平衡等提高系统的性能
- 通过复制技术提高系统的可靠性和可用性
- 通过模块化技术提高系统的可伸缩性
- 通过动态配置和重新配置功能提高系统的可扩展性
- 通过资源共享提高系统的性能价格比
- ...

### 1.4 分布式系统的主要特征

- 包含任意个数的 **进程** 
- 体系结构 **模块化**，它由数目可变的多个处理部件组成
- 系统中的多台计算机在空间上进行 **分布**，同时机器的分布情况也可能会随时变动
- 通过共享通信结构上的 **报文传递** 进行通信，进程之间的报文传送存在延迟且延迟时间可变
- 实行 **某种** 全系统范围的 **控制**，以便提供动态的进程间的合作和运行时间的管理
  - 不同的系统有着不同的控制程度
- **缺乏全局时钟**，很难定义不同分布节点上的操作谁先谁后
- **故障** 总是会发生

### 1.5 分布式系统支持的特性

#### 资源共享 Making Resources Accessible

- **一旦授权，可以访问系统中的任何资源：**

  硬件(e.g. printer, scanner, camera，computer)、软件（服务）、数据(file, database, web page)

- **相关技术例：**

  资源管理器控制资源的访问

  - 提供命名机制
  - 控制并发访问

#### 并发性 Concurrency

- **分布系统中的各个组成部分可以在并发的过程中被执行，如：**

  - 多个用户同时访问应用程序
  - 多个服务进程同时运行，相互协作
  
- **分布系统中的各个进程可以并发访问、更新共享的资源**

- **相关技术例：**

  并发控制

- **并发与并行的区别：**

  同一时间 "dealing with" VS 同一时间 "doing"

  **并发**：一个 CPU 同时处理多个线程任务，宏观上多任务。

  **并行**：多个 CPU 同时处理多个线程任务。

#### 异构性 Heterogeneity

- **分布式系统的组成部分可能在以下这些方面存在多样性和差别，即异构性**

  - **网络**：主要使用互联网协议进行通信
  - **计算机硬件**：如整数在不同的硬件上有不同的表示方法
  - **操作系统**：如系统调用不一样
  - **编程语言**：使用不同的方式表示字符和数据结构
  - 由不同的开发者完成的软件

- **相关技术例：**

  分布式计算环境，也称为分布式中间件

#### 开放性 Openness

- **新共享资源添加并被各种客户程序使用的（难易）程度**

  支持异构资源的添加和使用

- **相关技术例：**

  发布系统的关键接口

  - 如使用接口定义语言 IDL 定义接口

  发布访问共享资源的接口

  提供统一的通信机制

  虚拟化技术

- **开放性好的分布式系统可方便地支持：**

  - **互操作性Interoperability**：异构的系统或应用程序一起交互工作的能力
  - **可移植性Portability**：面向某一分布式系统A开发的应用程序能运行在实现了A的接口的分布式系统B上的能力
  - **可扩展性Extensibility**：可方便添加新组件、新特性的能力

#### 安全性 Security

- **一个安全的计算机系统，必须具有以下三个属性：**

  - **机密性(Confidentiality)**：防止未授权客户的访问
  - **完整性(Integrity)**：防止被改变或被破坏
  - **可用性(Availability)**：防止对访问资源的干扰

- **相关技术例：**

  加密技术

  访问控制

#### 可用性 Availability

- **系统在面对各种异常时可以提供正常服务的能力**

  硬件、软件、网络故障、人为失误

- **相关技术例：**

  冗余 Redundancy

  - 如： 多网卡、IP route, replicated name table of DNS、服务器副本、数据副本

  恢复 Recovery

  - 如：数据库的回滚Roll back

#### 可伸缩性 Scalability

- **随着系统规模的增长，如用户数、数据量等，系统应能以合理的方式来匹配这种增长，使得性能仍能维持原状**

  用于描述系统应对 **负载** 增加的能力

- **负载：可以用称为负载参数的若干数字来描述**

  如每秒平均处理次数、数据库中的写入比例、聊天室的同时活动用户数量、缓存命中率

- **分布式系统需要考虑如果负载增加将会发生什么？**

  负载增加，但系统资源（CPU、内存、网络带宽）保持不变，系统性能会发生什么变化

  负载增加，如果要保持性能不变，需要增加多少资源

- **可伸缩性用于描述系统应对负载增加的能力。为支持可伸缩性，系统主要有两种扩展方式：**

  垂直扩展 Scale Up：提升单机处理能力

  - 增强单机硬件性能，如：增加CPU核数，升级更好的网卡，升级更好的硬盘
  - 提升单机架构性能，如：使用Cache来减少IO次数

  水平扩展 Scale Out：只要增加服务器数量，就能扩充系统性能

  - 理想情况是系统“线性可扩展”：系统的整体性能与服务器数量呈线性关系
  - 所设计的各个组成部分应当便于系统的伸缩：模块化
    - 功能
    - 数据

##### Scaling Techniques (1)：功能分布

![1](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/12632/%E9%AB%98%E7%BA%A7%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F1-1.png)

The difference between letting: a) a server or  b) a client check forms as they are being filled.

##### Scaling Techniques (2)：数据分布

![2](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/12632/%E9%AB%98%E7%BA%A7%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F1-2.png)

An example of dividing the DNS name space into zones.

